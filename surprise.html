<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Surprise pour toi, Youssoupha 💌</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: { extend: {
        fontFamily:{ display:['"Great Vibes"','cursive'], body:['"Poppins"','system-ui'] },
        keyframes:{
          gradientMove:{'0%':{backgroundPosition:'0% 50%'},'50%':{backgroundPosition:'100% 50%'},'100%':{backgroundPosition:'0% 50%'}},
          pulseSoft:{'0%,100%':{transform:'scale(1)'},'50%':{transform:'scale(1.02)'}}
        },
        animation:{ gradientMove:'gradientMove 16s ease infinite', pulseSoft:'pulseSoft 2.2s ease-in-out infinite' }
      }}
    };
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{ --h:200; }
    /* Fond vivant (jour/nuit + teinte) */
    .bg-morning,.bg-night{
      background: linear-gradient(135deg,
        hsl(calc(var(--h)), 70%, 45%),
        hsl(calc(var(--h) + 60), 65%, 30%),
        hsl(calc(var(--h) + 120), 70%, 35%)
      );
      background-size: 400% 400%;
      transition: background 1s ease;
    }
    .bg-animated{ animation: gradientMove 12s ease infinite; }

    /* Carte verre */
    .glass{ background:linear-gradient(to bottom right, rgba(255,255,255,.07), rgba(255,255,255,.03));
            border:1px solid rgba(255,255,255,.14); backdrop-filter: blur(10px) }

    /* Titre romantique */
    .title-romantique{
      font-family:'Great Vibes', cursive;
      font-size: clamp(2.6rem, 7vw, 4.2rem);
      color:#ffe7ef; text-shadow:0 0 14px rgba(255,160,190,.5);
      letter-spacing: .5px;
    }

    /* Paragraphe poétique */
    .paragraphe-romantique{
      font-family:'Poppins',sans-serif; font-weight:300;
      font-size: clamp(1.02rem, 2.4vw, 1.15rem);
      line-height:1.9; letter-spacing:.25px; color:#f7f7fb;
      background:rgba(255,255,255,.05); border-radius:16px;
      padding:26px 28px; box-shadow:0 0 22px rgba(255,180,200,.14);
      backdrop-filter: blur(6px);
      white-space:pre-line;
    }
    .paragraphe-romantique strong{
      color:#ffd6e0; font-weight:500; text-shadow:0 0 8px rgba(255,150,180,.45);
    }

    /* Curseur dactylo */
    .typewriter::after{ content:'|'; margin-left:2px; animation:blink 1s steps(2,start) infinite }
    @keyframes blink{ to{visibility:hidden} }

    /* Canvas feux d'artifice au-dessus */
    #fxCanvas{ position:fixed; inset:0; z-index:60; pointer-events:none }
  </style>
</head>
<body class="min-h-screen text-slate-100 font-body">
  <!-- Fond -->
  <div id="bg" class="fixed inset-0 -z-10 bg-animated"></div>

  <!-- Contenu -->
  <main class="container mx-auto px-4 py-12 md:py-16">
    <section class="max-w-3xl mx-auto rounded-2xl glass ring-1 ring-white/10 shadow-2xl p-6 md:p-10">
      <h1 class="title-romantique text-center animate-pulseSoft">Amour de mon cœur 🤍</h1>
      <div class="mt-4 text-center text-sm opacity-85">Pour toi, Youssoupha</div>

      <p id="letter" class="paragraphe-romantique mt-6 typewriter"></p>

      <div class="mt-8 grid place-items-center">
        <a href="souvenirs.html" id="btnSouvenirs"
           class="inline-flex items-center gap-2 rounded-xl bg-fuchsia-600 text-white px-5 py-3 font-semibold shadow-lg hover:scale-[1.03] active:scale-95 transition opacity-0 pointer-events-none">
          📸 Voir nos souvenirs
        </a>
      </div>
    </section>
  </main>

  <!-- Retour -->
  <a href="index.html" class="fixed bottom-5 left-5 text-sm text-white/85 hover:text-fuchsia-400 transition flex items-center gap-1">⬅️ Retour à l’accueil</a>

  <!-- Feux d'artifice -->
  <canvas id="fxCanvas"></canvas>

<script>
  /* --- Fond (jour/nuit Paris) + teinte changeante --- */
  const bg = document.getElementById('bg');
  const hr = Number(new Intl.DateTimeFormat('fr-FR',{timeZone:'Europe/Paris',hour:'2-digit',hour12:false}).format(new Date()));
  bg.className = 'fixed inset-0 -z-10 bg-animated ' + ((hr>=18||hr<6)?'bg-night':'bg-morning');
  let hue=200; setInterval(()=>{ hue=(hue+5)%360; document.documentElement.style.setProperty('--h',hue); },1000);

  /* --- Lettre complète (douas + reconnaissance) --- */
  const content =
`Il y a des mots qu’on ne dit pas assez souvent, et des sentiments qu’on n’exprime jamais assez fort.
Alors aujourd’hui, j’ai voulu t’écrire autrement : dans la lumière, dans le souffle, dans cette page que je t’offre comme un baiser posé sur ton âme.

Ton nom est devenu ma plus belle habitude, ton odeur ma maison, ta voix mon refuge.
J’aime la façon dont ton sourire désarme mes peurs, la manière dont ta main trouve la mienne sans chercher.

Tu es mon aujourd’hui et tous mes lendemains.
Dans ce monde bruyant, tu es mon apaisement, celui qui fait battre mon cœur sans effort.

Ce cadeau, c’est ma façon de te dire que je te désire comme au premier jour, que je t’aime avec tendresse et intensité, et que je t’attendrai toujours — au détour d’un souvenir, d’un rêve, ou d’une prière.

Quand je ferme les yeux, je revois ton sourire, et soudain tout devient clair : c’est toi.
Toi que j’attendais sans le savoir.
Toi qui fais battre mon cœur plus fort sans jamais le blesser.
Toi qui as su me comprendre sans que je parle.

Je t’aime, mon Youssoupha.
Pas d’un amour ordinaire, pas d’un amour de passage — mais d’un amour profond, brûlant, poétique et vrai.

Cet amour qui ne s’éteint pas, même quand la distance s’étire.
Cet amour qui grandit, même dans le silence.

Je demande à Allah, Ar-Rahman, Ar-Rahim, de te protéger à chaque instant ; d’illuminer ton cœur comme tu as illuminé le mien ; de t’accorder une santé parfaite, la baraka dans ton travail, la paix dans ton âme et la réussite dans chacun de tes pas.
Qu’Il fasse de ta vie un jardin de lumière, qu’Il t’enveloppe de Sa miséricorde, qu’Il bénisse chacune de tes journées et qu’Il nous garde unis dans l’amour, la paix et la foi.
Et s’il ne me restait qu’une seule prière : que ton bonheur ne me quitte jamais.

Merci d’être l’homme que tu es — patient, bon, attentionné, fort et sincère.
Merci pour chaque geste, chaque parole, chaque regard plein de douceur.
Merci de m’avoir accueillie avec mes forces et mes failles, sans jugement.
Je te suis reconnaissante pour la façon dont tu m’apaises quand tout va mal, pour ta présence quand je doute, et pour ton amour qui ne faiblit jamais.
Tu es mon pilier, mon repère, mon abri ; je vois tout, je ressens tout — et je te remercie pour tout.

**Joyeux anniversaire, mon amour.**
Que cette journée soit à ton image : belle, lumineuse et infiniment douce.
Tu es ma lumière, mon miracle et ma plus belle prière exaucée.
Je t’aime, maintenant, demain et pour toujours.`;

  /* --- Écriture machine douce --- */
  const letterEl = document.getElementById('letter');
  const btn = document.getElementById('btnSouvenirs');
  // Remplacer **texte** par <strong>texte</strong>
  const htmlContent = content.replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>');
  let i = 0;
  function typeNext(){
    // Ajoute par tranches pour rester fluide
    const step = 2; // 2 caractères à la fois
    letterEl.innerHTML = htmlContent.slice(0, i += step);
    if(i < htmlContent.length){
      setTimeout(typeNext, 20); // vitesse
    } else {
      // Fin de l'écriture → feu d'artifice + bouton visible
      finaleFireworks();
      btn.classList.remove('pointer-events-none');
      btn.style.opacity = '1';
      btn.classList.add('animate-pulseSoft');
      letterEl.classList.remove('typewriter');
    }
  }
  setTimeout(typeNext, 400);

  /* --- FEUX D’ARTIFICE (doux, dorés & turquoises) --- */
  function fireworks({duration=6000,density=1.0}={}){
    const c = document.getElementById('fxCanvas');
    const ctx = c.getContext('2d');
    const dpr = devicePixelRatio||1;
    function resize(){ c.width=innerWidth*dpr; c.height=innerHeight*dpr; c.style.width=innerWidth+'px'; c.style.height=innerHeight+'px'; }
    resize(); addEventListener('resize', resize);

    const colors = ['#eab308','#0ea5a4','#f59e0b','#60a5fa','#22d3ee'];
    const sparks=[], rockets=[];
    let last = performance.now(), elapsed = 0;

    function burst(x,y,scale=1){
      const N = Math.floor((70 * scale) * density);
      for(let i=0;i<N;i++){
        const ang = Math.random()*Math.PI*2;
        const sp  = (2+Math.random()*3.5)*scale;
        sparks.push({
          x:x*dpr, y:y*dpr,
          vx:Math.cos(ang)*sp, vy:Math.sin(ang)*sp,
          life:60+Math.random()*30, r:1.3+Math.random()*1.1, col:colors[i%colors.length]
        });
      }
    }
    function launch(){
      rockets.push({
        x:(innerWidth*0.15 + Math.random()*innerWidth*0.7)*dpr,
        y:(innerHeight+10)*dpr,
        vx:(Math.random()-.5)*.9*dpr,
        vy:-(4.5+Math.random()*2.2)*dpr,
        life: 40+Math.random()*25
      });
    }

    function loop(t){
      const dt=t-last; last=t; elapsed+=dt;
      ctx.clearRect(0,0,c.width,c.height);

      // fusées + éclats aléatoires
      if(Math.random()<0.08) launch();
      if(Math.random()<0.10) burst(Math.random()*innerWidth, innerHeight*(.28+.4*Math.random()), 1.1);

      // rockets
      for(let k=rockets.length-1;k>=0;k--){
        const r=rockets[k];
        r.x+=r.vx; r.y+=r.vy; r.vy+=0.06*dpr; r.life--;
        ctx.globalCompositeOperation='lighter';
        ctx.fillStyle='rgba(255,255,255,.35)';
        ctx.beginPath(); ctx.arc(r.x, r.y, 1.6, 0, 6.283); ctx.fill();
        if(r.life<=0 || r.vy>0){ burst(r.x/dpr, r.y/dpr, 1.5); rockets.splice(k,1); }
      }

      // sparks
      for(let i=sparks.length-1;i>=0;i--){
        const p=sparks[i];
        p.x+=p.vx; p.y+=p.vy; p.vy+=0.02*dpr; p.life--;
        ctx.globalCompositeOperation='lighter';
        ctx.fillStyle=p.col; ctx.globalAlpha=Math.max(p.life/80,0);
        ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, 6.283); ctx.fill();
        if(p.life<=0) sparks.splice(i,1);
      }

      if(elapsed < duration){ requestAnimationFrame(loop); }
      else { ctx.clearRect(0,0,c.width,c.height); }
    }
    requestAnimationFrame(loop);

    return { burst, launch };
  }

  function finaleFireworks(){
    const fx = fireworks({duration:7000, density:1.1});
    // jolie salve centrale
    setTimeout(()=>fx.burst(innerWidth*0.25, innerHeight*0.45, 1.4), 200);
    setTimeout(()=>fx.burst(innerWidth*0.55, innerHeight*0.36, 1.4), 600);
    setTimeout(()=>fx.burst(innerWidth*0.80, innerHeight*0.50, 1.6), 1100);
  }
</script>
</body>
</html>
